<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Analisi dispositivo...</title>
  <style>
    body {
      background: black;
      color: #00ff00;
      font-family: monospace;
      padding: 20px;
    }
    h2 {
      color: #00ff00;
    }
    pre {
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<h2>Analizzando il tuo dispositivo...</h2>
<pre id="output"></pre>

<script>
const out = document.getElementById("output");

function log(text) {
  out.textContent += text + "\n";
}

// ===== FUNZIONI =====
function getBrowser() {
  const ua = navigator.userAgent;
  if (ua.includes("OPR") || ua.includes("Opera")) return "Opera";
  if (ua.includes("Edg")) return "Edge";
  if (ua.includes("Chrome")) return "Chrome";
  if (ua.includes("Firefox")) return "Firefox";
  if (ua.includes("Safari")) return "Safari";
  return "Sconosciuto";
}

function getOS() {
  const ua = navigator.userAgent;
  if (/Android/i.test(ua)) return "Android";
  if (/iPhone|iPad|iPod/i.test(ua)) return "iOS";
  if (/Windows/i.test(ua)) return "Windows";
  if (/Mac/i.test(ua)) return "macOS";
  if (/Linux/i.test(ua)) return "Linux";
  return "Sconosciuto";
}

function getAndroidVersion() {
  const match = navigator.userAgent.match(/Android\s([0-9\.]+)/);
  return match ? match[1] : null;
}

// ===== OUTPUT =====
setTimeout(() => log("Browser: " + getBrowser()), 500);
setTimeout(() => log("Sistema operativo: " + getOS()), 1000);

if (getOS() === "Android") {
  setTimeout(() => log("Versione Android: " + getAndroidVersion()), 1500);
}

setTimeout(() => log("Lingua: " + navigator.language), 2000);
setTimeout(() => log("Risoluzione: " + screen.width + "x" + screen.height), 2500);
setTimeout(() => log("Timezone: " + Intl.DateTimeFormat().resolvedOptions().timeZone), 3000);

const isMobile = /Mobi|Android/i.test(navigator.userAgent);
setTimeout(() => log("Tipo dispositivo: " + (isMobile ? "Mobile" : "Desktop")), 3500);

// ===== PAESE (API esterna) =====
setTimeout(() => {
  fetch("https://ipapi.co/json/")
    .then(r => r.json())
    .then(d => {
      log("Paese rilevato: " + d.country_name);
      log("");
      log("Accesso registrato ðŸ˜");
    })
    .catch(() => log("Paese: sconosciuto"));
}, 4000);
</script>

</body>
</html>
